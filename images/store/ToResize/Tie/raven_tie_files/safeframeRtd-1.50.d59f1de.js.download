!function a(i,s,d){function c(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};i[t][0].call(o.exports,function(e){return c(i[t][1][e]||e)},o,o.exports,a,i,s,d)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<d.length;e++)c(d[e]);return c}({1:[function(e,u,t){
/*
    @license
    Underscore.js 1.8.3
    http://underscorejs.org
    (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
    Underscore may be freely distributed under the MIT license.
*/
var r=function(){return window.P&&window.P.AUI_BUILD_DATE};u.exports.throttle=function(n,r,o){var a,i,s,d=null,c=0;o||(o={});var l=function(){c=!1===o.leading?0:u.exports.now(),d=null,s=n.apply(a,i),d||(a=i=null)};return function(){var e=u.exports.now();c||!1!==o.leading||(c=e);var t=r-(e-c);return a=this,i=arguments,t<=0||r<t?(d&&(clearTimeout(d),d=null),c=e,s=n.apply(a,i),d||(a=i=null)):d||!1===o.trailing||(d=setTimeout(l,t)),s}},u.exports.now=function(){return Date.now?Date.now():(new Date).getTime()},u.exports.addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):window.attachEvent&&e.attachEvent("on"+t,n)},u.exports.removeListener=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},u.exports.addWindowListener=function(e,t){u.exports.addListener(window,e,t)},u.exports.removeWindowListener=function(e,t){window.removeEventListener?window.removeEventListener(e,t,!1):window.detachEvent&&window.detachEvent("on"+e,t)},u.exports.ensureMessageListener=function(e){u.exports.removeWindowListener("message",e),u.exports.addWindowListener("message",e)},u.exports.decodeBase64=function(e){var t,n,r,o,a,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(o=s.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(a=s.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(i=s.indexOf(e.charAt(c++))),d+=String.fromCharCode(t),64!=a&&(d+=String.fromCharCode(n)),64!=i&&(d+=String.fromCharCode(r));return d=function(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):191<r&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a),n+=3);return t}(d)},u.exports.createScript=function(e,t,n,r,o){if(!document.getElementById(n)){var a=document.createElement("script");return a.async=!0,a.setAttribute("crossorigin","anonymous"),a.src=e,a.type=t,a.id=n,a.onerror=r,a.onload=o,a}},u.exports.isAUIAvailable=r,u.exports.safeFunctionWrapper=function(e,t,n){return r()&&"function"==typeof window.P.guardError?P.guardError("APE-SafeFrame",e):function(){try{e.apply(this,arguments)}catch(e){"function"==typeof t&&n&&t(n,e)}}},u.exports.getCookie=function(e){var t=e+"=";try{for(var n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}}catch(e){}return""},u.exports.disableCookieAccess=function(){try{Object&&Object.defineProperty&&"function"==typeof Object.defineProperty?Object.defineProperty(document,"cookie",{get:function(){return""},set:function(){}}):(document.__defineGetter__("cookie",function(){return""}),document.__defineSetter__("cookie",function(){}))}catch(e){}},u.exports.setObjectStyles=function(e,t){if(e&&t)for(var n in t)e.style[n]=t[n];return e},u.exports.ABP_STATUS={1:"Enabled",0:"NotEnabled","-1":"Unknown"},u.exports.hasHostname=function(e){var t="";return e&&(t=-1<e.indexOf("//")?e.split("/")[2]:e.split("/")[0]),0!=t.length},u.exports.isVideo=function(e){return"V"===e}},{}],2:[function(e,c,t){function d(e,t,n){var r=0;return"visible"!==document.visibilityState?r:(r=0<e?n-e:0<t?Math.min(t,n):0,Math.min(r,t-e))}function i(){try{var e={};return e.t=window.screenY?window.screenY:window.screenTop,e.l=window.screenX?window.screenX:window.screenLeft,e.w=c.exports.windowWidth(),e.h=c.exports.windowHeight(),e.b=e.t+e.h,e.r=e.l+e.w,e}catch(e){return null}}function s(e,t){try{var n={},r=l(e,t),o=function(e){try{var t={},n=c.exports.windowWidth(),r=c.exports.windowHeight(),o=Math.max(0,d(e.t,e.b,r)),a=Math.max(0,d(e.l,e.r,n)),i=o*a,s=e.h*Math.min(e.w,c.exports.windowWidth());return t.xiv=Number(Math.min(1,a/e.w).toFixed(2)),t.yiv=Number(Math.min(1,o/e.h).toFixed(2)),t.iv=Number(Math.min(1,Math.max(0,i/s)).toFixed(2)),t}catch(e){return null}}(r);return n.t=r.t,n.l=r.l,n.r=r.r,n.b=r.b,n.w=r.w,n.h=r.h,n.z=r.z,n.xiv=o.xiv,n.yiv=o.yiv,n.iv=o.iv,n}catch(e){return null}}function l(e,t){try{var n={},r=t||e.getBoundingClientRect();return n.t=r.top,n.l=r.left,n.r=r.right,n.b=r.bottom,n.w=r.width||n.r-n.l,n.h=r.height||n.b-n.t,n.z=e?Number(window.getComputedStyle(e,null).zIndex):NaN,n}catch(e){return null}}function u(e,t){try{var n={},r=t||e.getBoundingClientRect();return n.t=r.top,n.l=r.left,n.r=c.exports.windowWidth()-r.right,n.b=c.exports.windowHeight()-r.bottom,n.xs=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)>c.exports.windowWidth()?1:0,n.yx=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)>c.exports.windowHeight()?1:0,n}catch(e){return null}}c.exports.findVerticalPositionReached=function(){try{return window.scrollY+c.exports.windowHeight()}catch(e){return null}},c.exports.findDistanceFromViewport=function(e){try{return e.getBoundingClientRect().top-c.exports.windowHeight()}catch(e){return null}},c.exports.getViewableInfo=function(e){var t={};if(t.atf=function(e){if(!e)return"unknown";var t=function(e){try{var t=l(e,null),n=c.exports.windowHeight(),r=c.exports.windowWidth(),o=document.body.getBoundingClientRect(),a=Math.max(0,Math.min(o.left+r,t.r)-t.l),i=Math.max(0,Math.min(o.top+n,t.b)-t.t),s=a*i/(t.h*Math.min(t.w,r)),d=Number(Math.min(1,Math.max(0,s)).toFixed(2));return d}catch(e){return null}}(e);{if(null==t)return"unknown";if(.5<=t)return!0}return!1}(e),!e)return t;var n=i(),r=s(e),o=u(e);return n&&r&&o&&(t.geom={},t.geom.win=n,t.geom.self=r,t.geom.exp=o,t.payload={},t.payload.wh=n.h,t.payload.ww=n.w,t.payload.sx=window.scrollX,t.payload.sy=window.scrollY,t.payload.ah=r.h,t.payload.aw=r.w,t.payload.top=r.t,t.payload.left=r.l),t},c.exports.takeSnapshotOfSlotPosition=function(e){try{return{initialBoundingRect:e.getBoundingClientRect(),adHeight:e.offsetHeight,adWidth:e.offsetWidth,originalScrollX:window.scrollX,originalScrollY:window.scrollY}}catch(e){return null}},c.exports.getNoInventoryViewabilityData=function(e){var t={},n=function(e){try{var t=e.initialBoundingRect,n=t.top-(window.scrollY-e.originalScrollY),r=n+e.adHeight,o=t.left-(window.scrollX-e.originalScrollX),a=o+e.adWidth;return{top:n,bottom:r,left:o,right:a,width:e.adWidth,height:e.adHeight}}catch(e){return null}}(e),r=i(),o=s(null,n),a=u(null,n);return r&&o&&a?(t.geom={},t.geom.win=r,t.geom.self=o,t.geom.exp=a,t.payload={},t.payload.wh=r.h,t.payload.ww=r.w,t.payload.sx=window.scrollX,t.payload.sy=window.scrollY,t.payload.ah=o.h,t.payload.aw=o.w,t.payload.top=o.t,t.payload.left=o.l,t):null},c.exports.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight},c.exports.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth},c.exports.canBeInSameViewport=function(e,t){var n=l(e),r=l(t),o=c.exports.windowWidth(),a=c.exports.windowHeight();return n&&r&&(Math.abs(n.t-r.b)<a||Math.abs(n.b-r.t)<a)&&(Math.abs(n.l-r.r)<o||Math.abs(n.r-r.l)<o)}},{}],3:[function(e,t,n){var S=e("../components/viewability"),h=e("../../components/util"),r=e("../metrics/csm"),o=e("../metrics/csa"),a=e("../metrics/counters"),i=a.CUSTOM_MESSAGE_COUNTERS,g=a.PIXEL_CONDITIONS,s=r.sendCsmLatencyMetric,x=r.sendCsmCounter,d=o.markCsaLatencyMetric,c={ERROR:"ERROR",WARN:"WARN",FATAL:"FATAL"},l=u();function T(e,t){var n=t||new Error(e);x("",null,"safeFrameError",1),window.sfLogErrors&&(window.ueLogError?window.ueLogError(n,{logLevel:c.ERROR,attribution:"APE-safeframe",message:e+" "}):"undefined"!=typeof console&&console.error&&console.error(e,n))}function u(){var e=window.location.hostname.split(".").pop(),t="na";return/^(com|ca|mx|br)$/.test(e)?t="na":/^(uk|de|fr|it|es|in|ae|sa|nl|tr|se)$/.test(e)?t="eu":/^(jp|au)$/.test(e)?t="fe":/^(cn)$/.test(e)&&(t="cn"),"https://images-"+t+".ssl-images-amazon.com"}function p(e){return e.replace(/^.{1,5}:\/\/|^\/\//,"")}function E(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window}function _(e){return!e||C(e)||2<(t=e).length&&"px"===t.substring(t.length-2)?e:e+"px";var t}function C(e){return 1<e.length&&"%"===e.charAt(e.length-1)}function f(e,t,n,r){var o=!1,a=function(){r(n,e)&&(t(),o=!0)},i=h.safeFunctionWrapper(h.throttle(function(){a(),o&&(h.removeWindowListener("scroll",a),h.removeWindowListener("resize",a))},20));h.addWindowListener("scroll",i),h.addWindowListener("resize",i)}t.exports.util=h,t.exports.viewability=S,t.exports.messenger=new function(e,t,n){var m=this;this.adMap=e||{},this.supportedCommands=t||{},this.msgListeners=n||{};var w=function(e){var t=m.adMap,n=t[e].options;if(t==={}||n==={})return null;var r="ape_"+n.slot+"_iframe";return t[e].iframe&&(t[e].iframe=t[e].iframe&&t[e].iframe.innerHTML?t[e].iframe:document.getElementById(r)),t[e].iframe};this.sendMessageToAd=function(e,t,n){var r=w(e),o=r?r.contentWindow:null;if(o){var a={command:t,data:n};a=JSON.stringify(a),o.postMessage(a,"*")}},this.receiveMessage=function(t){var e=m.adMap,n=m.supportedCommands;if(e!=={}){var r,o,a,i,s;try{if(t.data&&t.data.message&&t.data.message.id&&-1<t.data.message.id.toLowerCase().indexOf("mash"))throw"Received Mash message";o=e[(r=JSON.parse(t.data)).arid]}catch(e){return}try{if(s=t,!(i=o)||!i.options||p(s.origin)!==p(l)||"object"!=typeof r.data||!n.hasOwnProperty(r.command))throw"Invalid Message: "+JSON.stringify(t.data);var d=n[r.command];d&&(o.options.debug&&"undefined"!=typeof console&&console.log(t),d(o,r.data))}catch(e){a="Problem with message: "+t.data,void 0!==r&&(a+=m.appendErrorDetails(r.arid)),T(a,e)}}},this.appendErrorDetails=function(e){var t=m.adMap;if(t==={})return"";var n="";if(void 0!==t[e]){var r=t[e].options;void 0!==r.aanResponse&&(n=" Ad Details: "+JSON.stringify(r.aanResponse))}return n},this.customMessage=function(e,t,n,r,o){var a=m.msgListeners;try{"undefined"!==n&&Array.isArray(n)&&(-1<n.indexOf(e)&&a[e]?(x(null,null,i.ALLOWLISTED+":"+e,1),a[e](t)):-1===n.indexOf(e)?(x(null,null,i.NOT_ALLOWLISTED,1),x(r,o,i.NOT_ALLOWLISTED,1)):T("Unrecognized custom message key: "+e))}catch(e){T("Custom Message Error",e)}},this.registerCustomMessageListener=function(e,t,n){var r=!1,o=m.msgListeners;try{!o[e]||"function"!=typeof o[e]||n?(o[e]=t,r=!0):T("Duplicate Key",new Error("Custom message listener already exists for key: "+e))}catch(e){T("Error registering custom message listener",e)}return r},this.sendCustomMessage=function(e,t){var n=m.adMap,r={key:e,data:t};for(var o in n)m.sendMessageToAd(o,"customMessage",r)},this.sendCustomMessageToAd=function(e,t,n){var r={key:t,data:n};m.sendMessageToAd(e,"customMessage",r)},this.takeSnapshotOfSlotPosition=function(e){var t=m.adMap,n=t&&t[e]&&t[e].options;if(t&&t!=={}&&n&&n!=={}){var r=w(e);m.adMap[e].options.slotSnapshot=S.takeSnapshotOfSlotPosition(r)}},this.startPixelTracking=function(e,t,n){var r,o,a,i="prerender"!==document.visibilityState,s=w(e),d=!!((r=s).offsetWidth||r.offsetHeight||r.getClientRects().length),c=m.adMap&&m.adMap[e]&&m.adMap[e].options,l=t&&t.useOnPageVisible,u=l&&"string"==typeof t.allowedPages;l=l&&(!u||u&&-1!==t.allowedPages.indexOf(c.pageType.toLowerCase())),!i&&c&&x(c.slot,c.placementId,g.PAGE_PRERENDER,1),!d&&c&&x(c.slot,c.placementId,g.AD_MISSING,1);var p=function(){return!(!i&&l||!d||(n(),a&&h.removeListener(document,"visibilitychange",a),o&&E()&&o.unobserve(s),0))};if(!p()){var f={root:document.documentElement};E()&&(o=new IntersectionObserver(function(e,t){try{1===e.length&&(e[0].isIntersecting?(d=!0,p()):d=!1)}catch(e){T("Error executing intersectionObserver callback")}},f)).observe(s),a=function(){try{"prerender"!==document.visibilityState?(i=!0,p()):i=!1}catch(e){T("Error executing pageVisibilityHandler callback")}},h.addListener(document,"visibilitychange",a)}},this.updateViewability=function(e){var t=m.adMap,n=t&&t[e]&&t[e].options;if(t&&t!=={}&&n&&n!=={}){var r=w(e),o=t[e].options.viewabilityStandards,a=S.getViewableInfo(r);null!==a&&(a.viewabilityStandards=o,m.sendMessageToAd(e,"updateViewability",a))}},this.updateNoInventoryViewability=function(e){var t=m.adMap,n=t&&t[e]&&t[e].options,r=n&&n.slotSnapshot;if(t&&t!=={}&&n&&n!=={}&&r){var o=n.viewabilityStandards,a=S.getNoInventoryViewabilityData(r);null!==a&&(a.viewabilityStandards=o,m.sendMessageToAd(e,"updateViewability",a))}}},t.exports.logError=T,t.exports.SF_DOMAIN=l,t.exports.loadScript=function(e,t){var n=document.createElement("script");n.src=e,n.setAttribute("crossorigin","anonymous"),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onload=n.onreadystatechange=null,t&&"function"==typeof t&&t())},n.onerror=function(e){return T("Error loading script",e),!1},(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)},t.exports.fireViewableLatencyMetrics=function(e,t,n,r){window.apeViewableLatencyTrackers&&window.apeViewableLatencyTrackers[e]&&window.apeViewableLatencyTrackers[e].valid&&(window.apeViewableLatencyTrackers[e].loaded=!0,window.apeViewableLatencyTrackers[e].viewed&&(s("ld",t,n,"viewablelatency",r),d("viewablelatency:loaded",r),x(t,n,"htmlviewed:loaded",1)))},t.exports.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)"),r=e.className;return r&&n.test(r)},t.exports.createIframeWithAttributes=function(e,t,n){var r=document.createElement("iframe");return r.name=JSON.stringify(e),r.id=t,r.src=n,r.height=_(e.size.height)||"250px",r.width=_(e.size.width)||"300px",r.className=e.iframeClass||"",r.setAttribute("frameborder","0"),r.setAttribute("marginheight","0"),r.setAttribute("marginwidth","0"),r.setAttribute("scrolling","no"),r.setAttribute("allowtransparency","true"),r.setAttribute("data-arid",e.arid),r.style.cssText=e.iframeExtraStyle||"",r.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox allow-same-origin",/(Chrome|Safari|AppleWebKit|Amazon)/.test(navigator.userAgent)?r.sandbox+=" allow-top-navigation-by-user-activation":r.sandbox+=" allow-top-navigation",r},t.exports.logCounter=function(e,t){window.ue&&"function"==typeof window.ue.count&&window.ue.count(e,t)},t.exports.collapseSlot=function(e){var t=document.getElementById(e);void 0!==t&&t&&(t.style.display="none")},t.exports.setResizePlacementStyle=function(e,t,n){var r=document.getElementById(t[e].placementDivId),o=document.getElementById(t[e].wrapperDivId)||r,a=document.getElementById(t[e].iframeId),i=n.resizePlacementWidthThreshold,s=n.resizePlacementStyleAboveThreshold,d=n.resizePlacementStyleBelowThreshold;i=parseInt(i,10),o&&a&&i&&s&&d&&(o.offsetWidth<i?h.setObjectStyles(a,d):h.setObjectStyles(a,s))},t.exports.resizeSafeFrameAd=function(t,e,n,r,o,a){try{var i=document.getElementById(a[t].placementDivId),s=document.getElementById(a[t].wrapperDivId)||i,d=document.getElementById(a[t].iframeId);if(null===s||null===i||null===d)return;var c=C(n),l=C(e),u=!l&&!c,p=parseInt(e,10),f=l?d.offsetWidth:p,m=c?d.offsetHeight:parseInt(n,10),w=parseInt(r,10),h=function(e){u&&(m=Math.round(e*m/f)),f=Math.round(e)},g=0===s.offsetWidth?S.windowWidth():s.offsetWidth;w&&S.windowHeight()<S.windowWidth()?h(w):h(g),o&&o.adMap&&o.adMap[t]&&o.adMap[t].options&&o.adMap[t].options.slotSnapshot&&(o.adMap[t].options.slotSnapshot.adHeight=m,o.adMap[t].options.slotSnapshot.adWidth=f);var E=_(f),v=_(u?m:n);d.style.height=v;var y={width:d.style.width=E,height:v};s!==i&&(i.style.height=v,o.sendMessageToAd(t,"resizeCreativeWrapper",y)),"Detail_hero-quick-promo_Desktop"===a[t].slotId&&(x(a[t].slotId,o.adMap[t].options.placementId,"OffsetLeft",d.offsetLeft),x(a[t].slotId,o.adMap[t].options.placementId,"OffsetTop",d.offsetTop),x(a[t].slotId,o.adMap[t].options.placementId,"OffsetWidth",d.offsetWidth),x(a[t].slotId,o.adMap[t].options.placementId,"OffsetHeight",d.offsetHeight))}catch(e){T("Error resizing ad: "+a[t].slotId,e)}},t.exports.delayLoad=function(e,t,n,r){var o="undefined"!=typeof P,a="undefined"!=typeof amznJQ,i="number"==typeof n&&0!==n?function(){setTimeout(t,n)}:t;if("windowOnLoad"===e)"complete"===document.readyState?i():h.addWindowListener("load",i);else if("spATFEvent"===e)o?P.when("search-page-utilities").execute(function(e){e.afterEvent("spATFEvent",i)}):a?amznJQ.available("search-js-general",function(){window.SPUtils.afterEvent("spATFEvent",i)}):i();else if("aboveTheFold"===e)o?P.when("af").execute(i):a?amznJQ.onCompletion("amznJQ.AboveTheFold",i):i();else if("criticalFeature"===e)o?P.when("cf").execute(i):a?amznJQ.onCompletion("amznJQ.criticalFeature",i):i();else if("r2OnLoad"===e)o?P.when("r2Loaded").execute(i):a?amznJQ.onReady("r2Loaded",i):i();else if(e.match("[^:]+:.+")){var s=e.split(":"),d=s[0].split("."),c=s[1],l=2<s.length?s[2]:c;o?P.when(l,"A").execute(i):a&&1<d.length?amznJQ[d[1]](c,i):i()}else if(e.match(/^\d{1,4}px$/g))f(parseInt(e,10),i,r,function(e,t){return e&&S.findDistanceFromViewport(e)<=t});else{var u=/^reached(\d{1,5}px)FromTop$/g.exec(e);u?f(parseInt(u[1],10),i,r,function(e,t){return S.findVerticalPositionReached()>=t}):i()}},t.exports.getMediaCentralOrigin=u,t.exports.sizeValidator=function(e,t){return e.height===t.height&&e.width===t.width},t.exports.checkAgainstAllowlist=function(e,t,n){if(!t||"object"!=typeof t)return!1;for(var r=0,o=t.length;r<o;r++)if(n(e,t[r]))return!0;return!1},t.exports.isInterSectionObserverSupported=E},{"../../components/util":1,"../components/viewability":2,"../metrics/counters":4,"../metrics/csa":5,"../metrics/csm":6}],4:[function(e,t,n){t.exports.AD_LOAD_COUNTERS={START:"adload:start",CALLBACK:"adload:delayloadcallback",IFRAME_CREATED:"adload:iframecreated"},t.exports.CACHE_COUNTERS={SF_LIBRARY:"cache:sflibrary:",SF_HTML:"cache:sfhtml:"},t.exports.FEEDBACK_COUNTERS={REQUEST:"adfeedback:request",SUCCESS:"adfeedback:success",ERROR:"adfeedback:error",LABEL_RENDER:"adfeedback:sponsoredlabelrender"},t.exports.MESSENGER_COUNTERS={API:"messenger:"},t.exports.ABP_STATUS_COUNTERS={1:"abpstatus:enabled",0:"abpstatus:notenabled","-1":"abpstatus:unknown"},t.exports.SF_VERSION_COUNTERS={VERSION:"sfversion"},t.exports.RESOURCE_TIMING_DATA_COUNTERS={NEXUS_CLIENT_NOT_DEFINED:"ResourceTimingData.NexusClientNotDefined",LOGGING_FAILED:"ResourceTimingData.LoggingFailed",LOGGING_SUCCESSFUL:"ResourceTimingData.LoggingSuccessful",DEPENDENCIES_NOT_MET:"ResourceTimingData.DependenciesNotMet"},t.exports.CUSTOM_MESSAGE_COUNTERS={ALLOWLISTED:"custommessage:allowlisted",NOT_ALLOWLISTED:"custommessage:notallowlisted"},t.exports.PIXEL_CONDITIONS={PAGE_PRERENDER:"pixelcondition:pageprerender",AD_MISSING:"pixelcondition:admissing"}},{}],5:[function(e,t,n){var r=e("../messenger/msgHandler"),o={};t.exports.initCsaLatencyPlugin=function(e){window.csa&&(o.latencyPlugin=window.csa("Content",{element:e}))},t.exports.markCsaLatencyMetric=function(e,t){try{o.latencyPlugin("mark",e,t)}catch(e){r.logError("Error with initiating CSA",e)}},t.exports.initCsaEvents=function(){window.csa&&(o.events=window.csa("Events",{producerId:"adplacements"}))},t.exports.logCsaEvent=function(e,t,n){try{o.events("log",{schemaId:"ApeSafeframe.csaEvent.1",metricName:e+":"+t+":"+n,metricValue:1},{ent:"all"})}catch(e){r.logError("Error with initiating CSA",e)}},t.exports.addCsaEntity=function(e){try{o.events("setEntity",{adCreativeMetaData:e})}catch(e){r.logError("Error with initiating CSA",e)}},t.exports.csa=o},{"../messenger/msgHandler":3}],6:[function(e,t,n){var s={bb:"uet",af:"uet",cf:"uet",be:"uet",ld:"uex"};function d(e,t,n,r){var o=[e,t,n];return r&&o.push(r),o}t.exports.sendCsmLatencyMetric=function(e,t,n,r,o){if(s.hasOwnProperty(e)){var a=s[e],i=r?r+":":"";"function"==typeof window[a]&&(window[a].apply(this,d(e,"adplacements:"+i+t.replace(/_/g,":"),{wb:1},o)),n&&window[a].apply(this,d(e,"adplacements:"+i+n,{wb:1},o)))}},t.exports.sendCsmCounter=function(e,t,n,r){if(window.ue&&"function"==typeof window.ue.count){var o="adplacements:"+n;if(e&&(o+=":"+e.replace(/_/g,":")),window.ue.count(o,r),t){var a="adplacements:"+(n&&t?n+":":n)+t;window.ue.count(a,r)}}},t.exports.addCsmTag=function(e,t,n,r){if(window.ue&&window.ue.tag){if(t){var o=e+":"+t.replace(/_/g,":")+(r?":"+r:"");window.ue.tag(o)}if(n){var a=e+":"+n+(r?":"+r:"");window.ue.tag(a)}t||n||window.ue.tag(e+(r?":"+r:""))}}},{}],7:[function(e,t,n){t.exports.AD_LOAD_EVENTS={START:"adload_start",CALLBACK:"adload_delayload",IFRAME_CREATED:"adload_iframecreated"},t.exports.CACHE_EVENTS={SF_LIBRARY:"sflibrary_",SF_HTML:"sfhtml_"},t.exports.FEEDBACK_EVENTS={REQUEST:"adfeedback_request",SUCCESS:"adfeedback_success",ERROR:"adfeedback_error",LABEL_RENDER:"adfeedback_sponsoredlabelrender"},t.exports.ABP_STATUS_EVENTS={1:"abpstatus_enabled",0:"abpstatus_notenabled","-1":"abpstatus_unknown"},t.exports.SF_VERSION_EVENTS={VERSION:"sfversion_"},t.exports.RESOURCE_TIMING_DATA_EVENTS={LOGGING_FAILED:"resourceTimingData_LoggingFailed",LOGGING_SUCCESSFUL:"resourceTimingData_LoggingSuccessful",DEPENDENCIES_NOT_MET:"resourceTimingData_DependenciesNotMet",DEPENDENCIES_MET:"resourceTimingData_DependenciesMet"}},{}],8:[function(m,e,t){var w,h;w=window,h=document,w.logSafeframeResourceTimingData=function(t,r){var n=m("./metrics/counters"),o=m("./metrics/events"),e=m("./metrics/csm"),a=m("./metrics/csa"),i=e.sendCsmCounter,s=a.logCsaEvent,d={sd:1},c=["name","entryType","startTime","duration","initiatorType","nextHopProtocol","workerStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize"];if(!(w.ue&&w.ue.event&&w.ue.attach))return i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.DEPENDENCIES_NOT_MET,1),void s(o.RESOURCE_TIMING_DATA_EVENTS.DEPENDENCIES_NOT_MET,t.slot,t.placementId);function l(e){for(var t,n={},r=0;r<c.length;r++)void 0!==e[t=c[r]]&&(n[t]=e[t]);return n}function u(){return{source:"safeframe",pageType:w.ue_pty||null,subPageType:w.ue_spty||null,pageTypeId:t.slot+"_"+t.adCreativeMetaData.adNetwork+"_"+t.adCreativeMetaData.adProgramId+"_"+t.adCreativeMetaData.adCreativeId+"_"+t.adCreativeMetaData.adId||null}}function p(){var e=u();return e.resourceData=function(){for(var e=[],t=0;t<r.resourceTimingData.length;t++){var n=r.resourceTimingData[t];0!==n.responseEnd&&e.push(l(n))}return e}(),e}function f(){var e=p();w.ue.event&&(w.ue.event(e,"adplacements","csm.ResourceTimingHit.2",d)?(i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_SUCCESSFUL,1),i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_FAILED,0),s(o.RESOURCE_TIMING_DATA_EVENTS.LOGGING_SUCCESSFUL,t.slot,t.placementId)):(i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_SUCCESSFUL,0),i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.LOGGING_FAILED,1),s(o.RESOURCE_TIMING_DATA_EVENTS.LOGGING_FAILED,t.slot,t.placementId)))}i(null,null,n.RESOURCE_TIMING_DATA_COUNTERS.DEPENDENCIES_NOT_MET,0),s(o.RESOURCE_TIMING_DATA_EVENTS.DEPENDENCIES_MET,t.slot,t.placementId),"complete"===h.readyState?f():w.ue.attach("load",f)}},{"./metrics/counters":4,"./metrics/csa":5,"./metrics/csm":6,"./metrics/events":7}]},{},[8]);